<div>
  <h1
    style="
      font-size: 30px;
      font-family: Legend;
      font-weight: bold;
      font-stretch: normal;
      font-style: normal;
      line-height: 1.2;
      letter-spacing: normal;
      text-align: left;
      color: #22493b;
      justify-content: center;
      text-align: center;
      padding-bottom: 20px;
      padding-top: 20px;
    "
  >
    QUẢN LÝ CHUYẾN XE
  </h1>
</div>
<div class="vstack gap-3">
  <div class="position-relative p-2">
    <div class="position-absolute top-0 start-0">
      <section
        class="example-container mat-elevation-z8"
        tabindex="0"
        style="border-bottom: solid 1px gray"
      >
        <ng-container *ngIf="dataSource as dataSource">
          <table
            mat-table
            [dataSource]="dataSource"
            style="border-bottom: solid 1px black"
            matSort
            matSortActive="timetrip"
            matSortDisableClear
            matSortDirection="desc"
          >
            <ng-container matColumnDef="name" style="font-size: 18px">
              <th mat-header-cell *matHeaderCellDef>Tên chuyến</th>
              <td mat-cell *matCellDef="let element">{{ element.name }}</td>
            </ng-container>
            <ng-container matColumnDef="timetrip">
              <th
                mat-header-cell
                *matHeaderCellDef
                mat-sort-header
                disableClear
              >
                Ngày đi
              </th>
              <td mat-cell *matCellDef="let element">
                {{ appService.formatDateVietNam(element.time.start_day) }}
              </td>
            </ng-container>
            <ng-container matColumnDef="timeend">
              <th mat-header-cell *matHeaderCellDef>Giờ đi</th>
              <td mat-cell *matCellDef="let element">
                {{ element.time.start_time }}
              </td>
            </ng-container>
            <ng-container matColumnDef="type">
              <th mat-header-cell *matHeaderCellDef>Biển kiểm soát</th>
              <td mat-cell *matCellDef="let element">
                {{ element.seats.number_plate }}
              </td>
            </ng-container>
            <ng-container matColumnDef="download">
              <th mat-header-cell *matHeaderCellDef>Tải xuống</th>
              <td mat-cell *matCellDef="let element; let i = index">
                <div class="d-flex flex-row mb-3">
                  <div
                    class="p-2"
                    style="
                      justify-content: center;
                      align-items: center;
                      text-align: center;
                      border-right: solid 2px black;
                    "
                  >
                    <span class="p-2">
                      Tải về EXCEL
                      <a
                        target="_blank"
                        href="http://localhost:5050/api/v1/seat/list?id={{
                          element.id
                        }}"
                      >
                        <mat-icon>cloud_download</mat-icon>
                      </a></span
                    >
                  </div>
                  <div
                    class="p-2"
                    style="
                      justify-content: center;
                      align-items: center;
                      text-align: center;
                    "
                  >
                    <span class="p-2"> Tải về PDF </span>

                    <a
                      class="p-2"
                      target="_blank"
                      href="http://localhost:5050/api/v1/seat/list?id={{
                        element.id
                      }}"
                    >
                      <mat-icon class="mat-icon-custom"
                        >cloud_download</mat-icon
                      >
                    </a>
                  </div>
                </div>
              </td>
            </ng-container>

            <tr
              mat-header-row
              id="table-sticky"
              *matHeaderRowDef="displayedColumns; sticky: true"
            ></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
          </table>
        </ng-container>
      </section>
    </div>
  </div>
</div>
